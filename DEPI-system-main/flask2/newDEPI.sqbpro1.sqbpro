<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="newDEPI.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="3590"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="Group" custom_title="0" dock_id="1" table="4,5:mainGroup"/><dock_state state="000000ff00000000fd00000001000000020000012f0000017bfc0100000001fb000000160064006f0063006b00420072006f007700730065003101000000000000012f0000011800ffffff0000012f0000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="City" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="36"/><column index="2" value="56"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Company" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="32"/><column index="2" value="62"/><column index="3" value="148"/><column index="4" value="124"/><column index="5" value="85"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Coordinator" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="43"/><column index="2" value="34"/><column index="3" value="38"/><column index="4" value="32"/><column index="5" value="101"/><column index="6" value="85"/><column index="7" value="29"/><column index="8" value="187"/><column index="9" value="70"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Group" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="33"/><column index="2" value="32"/><column index="3" value="33"/><column index="4" value="34"/><column index="5" value="54"/><column index="6" value="257"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Student" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="31"/><column index="2" value="38"/><column index="3" value="117"/><column index="4" value="54"/><column index="5" value="171"/><column index="6" value="148"/><column index="7" value="40"/><column index="8" value="210"/><column index="9" value="124"/><column index="10" value="62"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="company_student" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="34"/><column index="2" value="33"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="student_session" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="33"/><column index="2" value="46"/><column index="3" value="78"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1*">select 
	c.c_id,c.c_name, 
	(select count(*) from coordinator where c.c_id = c_id) as &quot;Count Coordinator&quot;,
	(select count(*) from company_instructor where c.c_id = c_id) as &quot;Count Instructor&quot;,
	(select count(*) from company_student where c.c_id = c_id) as &quot;Count Student&quot;,
	(select count(distinct gi.g_id) from company_instructor as ci 
	 join group_instructor as gi on ci.i_id =  gi.i_id 
	 where c.c_id = ci.c_id) as &quot;Count Group&quot;,
	(select count(*) from track_company where c.c_id = c_id) as &quot;Count Tracks&quot;
	from company as c 
	where c.c_id=1;
	
select i.i_id, i.name, i.type, i.phone, i.bachelor, &quot;from&quot;, i.gender, i.email, i.password, i.i_id, i.t_id  from Instructor i
join company_instructor ci
on ci.i_id = i.i_id
where c_id=1;

select i_id, name, type, phone, bachelor, &quot;from&quot;, gender, email, password, i_id, t_id  from Instructor 
where i_id=1;

select co.cor_id, co.name , c.ct_name, co.&quot;from&quot; , co.age, co.email , g.g_name
from Coordinator co
join city c
on co.ct_id = c.ct_id 
join group_coordinator gc
on gc.cor_id = co.cor_id 
join &quot;group&quot; g
on gc.cor_id = g.g_id 
join Company cm
on cm.c_id = co.c_id
where cm.c_id = 1;

SELECT 
    s.s_id, s.name, s.university, s.college, g.g_name, 
    CAST(
        (CAST(COUNT(ss.attendance) AS FLOAT) / 
        (SELECT COUNT(attendance) 
         FROM student_session AS ss2 
         WHERE ss2.s_id = s.s_id 
           AND ss2.attendance != 'not taken')
        ) * 100 AS INTEGER
    ) AS attendance_percentage
FROM Student AS s 
JOIN student_session AS ss ON s.s_id = ss.s_id
JOIN group_student AS gs ON s.s_id = gs.s_id
JOIN &quot;Group&quot; AS g ON g.g_id = gs.g_id
join company as com on com.c_id = g.c_id 
WHERE ss.attendance = 'true' 
  AND com.c_id = 2
GROUP BY s.s_id, s.name, g.g_name;

select g_id, g_name, ct.ct_name, r.round_name, c.c_name, t.t_name from &quot;group&quot; as g
join city as ct on g.ct_id = ct.ct_id 
join round as r on r.r_id = g.r_id 
join Company as c on c.c_id = g.c_id 
join Track as t on t.t_id = g.t_id
where c.c_id =1;


select g_id, g_name, ct.ct_name, r.round_name, c.c_name, t.t_name from &quot;group&quot; as g
join city as ct on g.ct_id = ct.ct_id 
join round as r on r.r_id = g.r_id 
join Company as c on c.c_id = g.c_id 
join Track as t on t.t_id = g.t_id
where g_id =1;

delete from &quot;group&quot;
where g_id = 5;</sql><current_tab id="0"/></tab_sql></sqlb_project>
